# 智业罗盘（ZhiYeCompass）项目规划

## 产品愿景
帮助中国用户找到适合自己的副业/创业项目，通过AI驱动的个性化推荐，降低试错成本，提升成功概率。

## 核心设计原则
1. **合规优先**：所有推荐项目必须合法合规，过滤灰产和高风险模式
2. **真实透明**：展示真实案例，包括失败案例，不夸大收益
3. **本土化**：深度适配中国法律、平台规则、市场环境
4. **可执行性**：每个推荐都有具体行动路径，不只是泛泛建议
5. **风险提示**：明确告知项目风险和规避建议
6. **持续优化**：基于用户反馈迭代推荐算法和LLM Prompt

## 质量标准
- **推荐准确率目标**：70%+（用户认为"非常匹配"或"比较匹配"）
- **内容验证要求**：LLM生成的项目需符合真实性标准
- **风险披露要求**：必须明确标注法律、财务、平台风险
- **响应速度**：首屏加载<2s，LLM推荐生成<10s

## 技术架构关键决策

### 前端
- **框架**：Next.js 14 App Router（利用RSC减少客户端JS）
- **UI库**：Tailwind CSS + shadcn/ui
- **表单**：React Hook Form + Zod
- **状态管理**：React Context + Zustand
- **用户标识**：UUID (Session Storage + Cookie)

### 后端
- **无服务器**：AWS Lambda + API Gateway (ca-central-1)
- **运行时**：Node.js 18+
- **特点**：无需用户登录，通过UUID追踪

### 数据层
- **主数据库**：AWS DynamoDB
  - 用户画像（临时存储）
  - 推荐ID列表
  - 系统配置（每小时限额、LLM选择）
  - 限额计数器

- **文件存储**：AWS S3
  - LLM生成的推荐结果（JSON格式）
  - 支持历史查看和公开分享

### AI层
- **多LLM支持**（可动态切换）：
  - Claude 3.5 Sonnet (AWS Bedrock) - 默认
  - OpenAI GPT-4
  - DeepSeek - 成本优化选项

- **用途**：根据用户画像完全动态生成项目推荐
- **特点**：无预置项目库，所有内容由LLM生成

### 部署
- **主机**：AWS EC2 (前后端统一部署)
- **CDN**：Cloudflare（中国访问优化）
- **监控**：AWS CloudWatch

### 后台管理
- **框架**：Next.js Admin Pages (shadcn/ui)
- **功能**：
  - 系统配置（每小时推荐限额）
  - LLM模型切换
  - 推荐统计和用户反馈查看

## MVP范围界定

### 包含功能（v0.1）
- ✅ 用户画像填写（8个核心字段，无需登录）
- ✅ **单个项目推荐**（每次只推荐一个最匹配的项目）
- ✅ **完整项目展示**（项目描述 + 风险评估 + 行动路径 + 案例）
- ✅ **风险提示模块**（明确告知风险点和规避建议）
- ✅ **历史推荐浏览**（通过Session Storage存储的推荐ID列表）
- ✅ **推荐分享功能**（生成公开分享链接）
- ✅ **简单后台管理**（配置限额、切换LLM）
- ✅ **每小时限额控制**（防止成本失控）
- ✅ 基础反馈机制（有用/无用按钮）

### 不包含（后续版本）
- ❌ 用户登录/注册系统（MVP完全无需登录）
- ❌ 预置项目库（完全LLM动态生成）
- ❌ 多个项目推荐列表（MVP只推荐一个）
- ❌ 社区功能（评论、问答）
- ❌ 支付功能
- ❌ 复杂的用户画像编辑（MVP提交后不可修改）

## 关键功能说明

### 1. 单项目推荐模式
**设计理念**：精简体验，深度展示
- 每次只推荐一个最匹配的项目
- 展示完整详细信息（而非列表形式）
- 用户可选择"重新生成"获得另一个推荐
- 避免选择困难，聚焦单一项目决策

### 2. LLM动态生成项目
**设计理念**：无需维护项目库，永远最新
- 根据用户画像实时生成完整项目内容
- 包含：项目描述、收益预期、风险评估、行动路径、案例
- 生成后存储到S3，支持缓存复用（相同画像24h内）
- 后台可配置使用不同LLM模型

### 3. 风险提示机制
**设计理念**：透明化风险，建立信任
- 法律风险：合规性要求、相关法规
- 财务风险：投入成本、失败率、回本周期
- 平台风险：平台规则变化、封号风险
- 竞争风险：市场饱和度、竞争激烈程度
- 规避建议：具体可执行的风险缓解措施

### 4. 历史推荐管理
**设计理念**：无需登录也能追踪历史
- UUID存储在Session Storage + Cookie
- 每次推荐生成唯一ID，存入用户的推荐列表
- 历史页面：从Session读取ID列表，从S3获取内容
- 数据保留：Session Storage清除后历史丢失（可接受）

### 5. 推荐分享功能
**设计理念**：便于传播和口碑传播
- 生成/share/:id公开链接
- 任何人通过链接可查看推荐内容
- 记录分享来源，追踪传播路径
- 分享内容不可编辑，保证一致性

### 6. 每小时限额控制
**设计理念**：成本控制和服务稳定性
- 后台配置每小时推荐次数上限（默认10-20次）
- DynamoDB记录当前小时推荐计数
- 超限后友好提示："本小时推荐额度已用完，请下一小时再试"
- 每整点重置计数器

## 迭代计划

### v0.1 (MVP) - 2周
核心推荐流程：
1. 用户画像表单
2. 单个项目推荐（LLM生成）
3. 风险提示展示
4. 历史推荐浏览
5. 分享功能
6. 简单后台管理
7. 每小时限额控制

### v1.0 - +1周
用户体验增强：
- 用户登录系统（可选，增强数据持久化）
- 推荐结果收藏功能
- 更丰富的反馈机制

### v1.1 - +2周
后台功能增强：
- 推荐质量监控Dashboard
- A/B测试不同LLM模型
- Prompt优化工具

### v1.2 - +3周
社区功能：
- 用户案例分享
- 问答社区
- 项目评价系统

### v2.0 - +1个月
AI深度增强：
- 多轮对话式推荐
- 智能行动助手（30天启动计划）
- 成功率预测模型

## 风险管理

### 合规风险
- **预防**：LLM Prompt明确要求合规，禁止推荐灰产
- **技术**：内容审核机制，用户举报功能
- **免责**：每个推荐页面显示免责声明

### AI成本风险
- **控制**：每小时限额（后台可配置）
- **优化**：相同画像24h内复用S3缓存
- **降级**：LLM失败时友好错误提示，不强制重试
- **监控**：AWS Budgets告警 + 成本Dashboard

### 推荐准确率风险
- **优化**：A/B测试不同LLM和Prompt
- **迭代**：收集用户反馈，持续优化Prompt
- **期望管理**：明确说明"推荐仅供参考，请自行判断"

### 技术可用性风险
- **LLM故障**：提供友好错误提示，建议稍后再试
- **S3故障**：历史推荐暂时不可用，但不影响新推荐生成
- **限额机制**：确保服务稳定性，避免成本失控

## 成功指标（MVP阶段）

### 产品指标
- 推荐准确率：>60%（用户反馈"有用"比例）
- 用户留存率：Day 7 >30%（Cookie追踪）
- 分享率：>15%（点击分享按钮比例）

### 技术指标
- 首屏加载时间：<2s
- LLM推荐生成：<10s（可接受较长时间，因内容丰富）
- API成功率：>99%
- 每小时限额：10-20次（可调整）

### 业务指标
- 累计推荐数：100次
- 分享传播：>30次分享
- 用户反馈量：>50条/月

## 核心架构特点总结

1. **无需登录**：降低使用门槛，通过UUID追踪
2. **LLM动态生成**：无项目库维护成本，内容永远最新
3. **单项目推荐**：精简体验，深度展示，避免选择困难
4. **风险透明化**：建立信任，合规优先
5. **历史可追溯**：Session Storage + S3，无需登录也能查看历史
6. **便于分享**：公开链接，支持口碑传播
7. **成本可控**：每小时限额 + S3缓存 + 可切换LLM
8. **AWS EC2部署**：统一管理，灵活配置
9. **后台可配置**：LLM选择、限额调整，无需重新部署
